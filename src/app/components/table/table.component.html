<div>
  <button mat-raised-button (click)="add_table()">Add table</button>
  <button mat-raised-button (click)="dataSource.pop()">Remove table</button>
</div>

<div>
  Sticky Headers:
  <mat-button-toggle-group multiple [value]="['header-1']"
                           #stickyHeaders="matButtonToggleGroup"
                           class="example-sticky-toggle-group">
    <mat-button-toggle value="header-1"> Row 1</mat-button-toggle>
  </mat-button-toggle-group>
</div>

<div>
  Sticky Footers:
  <mat-button-toggle-group multiple [value]="['footer-1']"
                           #stickyFooters="matButtonToggleGroup"
                           class="example-sticky-toggle-group">
    <mat-button-toggle value="footer-1"> Row 1</mat-button-toggle>
  </mat-button-toggle-group>
</div>

<div>
  Sticky Columns:
  <mat-button-toggle-group multiple [value]="['client_name', 'symbol']"
                           #stickyColumns="matButtonToggleGroup"
                           class="example-sticky-toggle-group">
    <mat-button-toggle value="client_name"> Client Name</mat-button-toggle>
    <mat-button-toggle value="table_type"> Table Type</mat-button-toggle>
    <mat-button-toggle value="Sum"> Sum</mat-button-toggle>
  </mat-button-toggle-group>
</div>

<section class="example-container mat-elevation-z8" tabindex="0">
  <mat-table [dataSource]="dataSource" *ngFor="let table of tables">

    <ng-container *ngFor="let item of displayedColumns">
      <ng-container [matColumnDef]="item" [sticky]="isSticky(stickyColumns, item)">

        <mat-header-cell *matHeaderCellDef> {{item}}</mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.clientSurname}}</mat-cell>
        <mat-cell *matCellDef="let element"> {{element.id}}</mat-cell>
        <mat-footer-cell *matFooterCellDef> "футер"</mat-footer-cell>
      </ng-container>
    </ng-container>


    <mat-header-row *matHeaderRowDef="displayedColumns; sticky: isSticky(stickyHeaders, 'header-1')"></mat-header-row>

    <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

    <mat-footer-row *matFooterRowDef="displayedColumns; sticky: isSticky(stickyFooters, 'footer-1')"></mat-footer-row>
  </mat-table>
</section>
